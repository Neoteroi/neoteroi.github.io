
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The official documentation website of BlackSheep, a fast ASGI web framework for Python asyncio.">
      
      
        <meta name="author" content="Roberto Prevato">
      
      
        <link rel="canonical" href="https://www.neoteroi.dev/blacksheep/mvc-project-template/">
      
      
        <link rel="prev" href="/blacksheep/getting-started/">
      
      
        <link rel="next" href="/blacksheep/dependency-injection/">
      
      <link rel="icon" href="/blacksheep/img/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Getting started: MVC - BlackSheep</title>
      
    
    
      <link rel="stylesheet" href="/blacksheep/assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="/blacksheep/assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="/blacksheep/css/neoteroi.css">
    
      <link rel="stylesheet" href="/blacksheep/css/extra.css?v=20221120">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-T65MX5XNF2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-T65MX5XNF2');
</script>

    
    
  
  
    
  
  
  <meta property="og:type" content="website">
  <meta property="og:title" content="BlackSheep - Getting started: MVC">
  <meta property="og:description" content="The official documentation website of BlackSheep, a fast ASGI web framework for Python asyncio.">
  <meta property="og:url" content="https://www.neoteroi.dev/blacksheep/mvc-project-template/">
  <meta property="og:image" content="https://www.neoteroi.dev/blacksheep/img/banner.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1080">
  <meta property="og:image:height" content="568">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@RobertoPrevato">
  <meta name="twitter:creator" content="@RobertoPrevato">
  <meta name="twitter:title" content="BlackSheep - Getting started: MVC">
  <meta name="twitter:description" content="The official documentation website of BlackSheep, a fast ASGI web framework for Python asyncio.">
  <meta name="twitter:image" content="https://www.neoteroi.dev/blacksheep/img/banner.png">

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started-with-the-mvc-project-template" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="/blacksheep/" title="BlackSheep" class="md-header__button md-logo" aria-label="BlackSheep" data-md-component="logo">
      
  <img src="/blacksheep/img/logow.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BlackSheep
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting started: MVC
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Neoteroi/BlackSheep" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Neoteroi/BlackSheep
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="/blacksheep/" title="BlackSheep" class="md-nav__button md-logo" aria-label="BlackSheep" data-md-component="logo">
      
  <img src="/blacksheep/img/logow.svg" alt="logo">

    </a>
    BlackSheep
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Neoteroi/BlackSheep" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Neoteroi/BlackSheep
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/" class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/getting-started/" class="md-nav__link">
        Getting started: basics
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Getting started: MVC
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Getting started: MVC
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction-to-the-blacksheep-cli" class="md-nav__link">
    Introduction to the BlackSheep CLI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-the-application" class="md-nav__link">
    Starting the application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    Project structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-the-project-with-a-text-editor" class="md-nav__link">
    Open the project with a text editor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#routes-defined-using-classes-controllers" class="md-nav__link">
    Routes defined using classes (controllers)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#server-side-templating-views-and-models" class="md-nav__link">
    Server side templating (views and models)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-parameters-in-controllers" class="md-nav__link">
    Handling parameters in controllers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serving-static-files" class="md-nav__link">
    Serving static files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strategy-for-application-settings" class="md-nav__link">
    Strategy for application settings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/dependency-injection/" class="md-nav__link">
        Dependency injection
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/openapi/" class="md-nav__link">
        OpenAPI Docs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/application/" class="md-nav__link">
        Application
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/routing/" class="md-nav__link">
        Routing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/request-handlers/" class="md-nav__link">
        Request handlers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/requests/" class="md-nav__link">
        Requests
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/responses/" class="md-nav__link">
        Responses
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/templating/" class="md-nav__link">
        Templating
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/controllers/" class="md-nav__link">
        Controllers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/middlewares/" class="md-nav__link">
        Middlewares
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/static-files/" class="md-nav__link">
        Serving static files
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/websocket/" class="md-nav__link">
        WebSocket
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/server-sent-events/" class="md-nav__link">
        Server-sent events
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/authorization/" class="md-nav__link">
        Authorization
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/openid-connect/" class="md-nav__link">
        OpenID Connect
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/sessions/" class="md-nav__link">
        Sessions
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_22" >
      
      
      
        <label class="md-nav__link" for="__nav_22" id="__nav_22_label" tabindex="0">
          Security
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_22_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_22">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/cors/" class="md-nav__link">
        CORS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/anti-request-forgery/" class="md-nav__link">
        Anti-Forgery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/dataprotection/" class="md-nav__link">
        Data protection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/hsts/" class="md-nav__link">
        HSTS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/remotes/" class="md-nav__link">
        Remotes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_23" >
      
      
      
        <label class="md-nav__link" for="__nav_23" id="__nav_23_label" tabindex="0">
          Response features
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_23_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_23">
          <span class="md-nav__icon md-icon"></span>
          Response features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/cache-control/" class="md-nav__link">
        Cache control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/compression/" class="md-nav__link">
        Compression
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_24" >
      
      
      
        <label class="md-nav__link" for="__nav_24" id="__nav_24_label" tabindex="0">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_24_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_24">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/examples/marshmallow/" class="md-nav__link">
        Using Marshmallow
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/settings/" class="md-nav__link">
        Settings
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/binders/" class="md-nav__link">
        Binders
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/background-tasks/" class="md-nav__link">
        Background tasks
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/mounting/" class="md-nav__link">
        Mounting apps
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/client/" class="md-nav__link">
        HTTP Client
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/cli/" class="md-nav__link">
        More about the CLI
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/versions/migrating-to-v2/" class="md-nav__link">
        From V1 to V2
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/develop-with-https/" class="md-nav__link">
        Develop using HTTPS
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/asgi/" class="md-nav__link">
        ASGI
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/extensions/" class="md-nav__link">
        Extensions
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/blacksheep/about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/" class="md-nav__link">
        Neoteroi docs home
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction-to-the-blacksheep-cli" class="md-nav__link">
    Introduction to the BlackSheep CLI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-the-application" class="md-nav__link">
    Starting the application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    Project structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-the-project-with-a-text-editor" class="md-nav__link">
    Open the project with a text editor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#routes-defined-using-classes-controllers" class="md-nav__link">
    Routes defined using classes (controllers)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#server-side-templating-views-and-models" class="md-nav__link">
    Server side templating (views and models)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-parameters-in-controllers" class="md-nav__link">
    Handling parameters in controllers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serving-static-files" class="md-nav__link">
    Serving static files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strategy-for-application-settings" class="md-nav__link">
    Strategy for application settings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

  
                  


<h1 id="getting-started-with-the-mvc-project-template">Getting started with the MVC project template<a class="headerlink" href="#getting-started-with-the-mvc-project-template" title="Permanent link">&para;</a></h1>
<p>This tutorial explains how to create a BlackSheep application using the
MVC (<a href="https://en.wikipedia.org/wiki/Model–view–controller"><em>Model, View, Controller</em></a>)
project template, covering the following topics:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Creating an application from a project template, using the BlackSheep CLI.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Routes defined using classes (controllers).</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Server side templating (views and models).</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Handling parameters in controllers.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Serving static files</li>
</ul>
<p>It is recommended to follow the <a href="/blacksheep/getting-started">previous tutorial</a> before
reading this one.</p>
<h3 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://www.python.org">Python</a> version &gt;= <strong>3.10</strong> (3.8 and 3.9 are
  supported but not recommended to follow this tutorial)</li>
<li>path to the python executable configured in the environment <code>$PATH</code> variable
  (tip: if you install Python on Windows using the official installer, enable
  the checkbox to update your <code>$PATH</code> variable automatically)</li>
<li>a text editor: any is fine; this tutorial uses <a href="https://code.visualstudio.com/Download">Visual Studio Code</a></li>
</ul>
<h2 id="introduction-to-the-blacksheep-cli">Introduction to the BlackSheep CLI<a class="headerlink" href="#introduction-to-the-blacksheep-cli" title="Permanent link">&para;</a></h2>
<p>The previous tutorial described the basics of creating an application from
scratch. While that knowledge is important, it is usually not desirable to
start every project from scratch. BlackSheep offers a command-line interface
(CLI) that can be used to start new projects. The CLI can be installed from the
<a href="https://pypi.org/project/blacksheep-cli/">Python Package Index</a> using the
<code>blacksheep-cli</code> package:</p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>blacksheep-cli
</code></pre></div>
<p>Once installed, the <code>create</code> command can be used to start new projects:</p>
<div class="highlight"><pre><span></span><code>blacksheep<span class="w"> </span>create
</code></pre></div>
<p>The CLI will prompt for input about various options. For the sake of this
tutorial, answer:</p>
<ul>
<li><code>tutorial</code> for project name</li>
<li><code>mvc</code> for the project template</li>
<li><code>Yes</code> for OpenAPI Documentation</li>
<li><code>essentials-configuration</code> to read settings</li>
<li><code>YAML</code> for app settings format</li>
</ul>
<div class="highlight"><pre><span></span><code>✨ Project name: tutorial
🚀 Project template: mvc
📜 Use OpenAPI Documentation? Yes
🔧 Library to read settings essentials-configuration
🔩 App settings format (Use arrow keys)
 » YAML
   TOML
   JSON
   INI
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">blacksheep create</p>
<p>It is possible to use the <code>create</code> command specifying the project name
and template directly, like in:</p>
<ul>
<li><code>blacksheep create some_name</code></li>
<li><code>blacksheep create some_name --template api</code></li>
</ul>
</div>
<p><img alt="MVC template" src="/blacksheep/img/mvc-template-v2.png" /></p>
<p>After a project is created, the CLI displays a message with instructions.</p>
<div class="highlight"><pre><span></span><code>──────────────────────────────────────────────────────────────────────
🏗️  Project created in tutorial
──────────────────────────────────────────────────────────────────────
-- What&#39;s next:
        cd tutorial
        pip install -r requirements.txt
        python dev.py
</code></pre></div>
<p>Install the project dependencies:</p>
<ul>
<li><code>cd</code> into the project folder</li>
<li>create a new <a href="https://docs.python.org/3/library/venv.html">Python virtual environment</a> (recommended but optional)</li>
<li>install its dependencies with <code>pip install -r requirements.txt</code></li>
</ul>
<h2 id="starting-the-application">Starting the application<a class="headerlink" href="#starting-the-application" title="Permanent link">&para;</a></h2>
<p>Start the application using one of the following commands:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># using the provided dev.py file (useful to debug)</span>
python<span class="w"> </span>dev.py

<span class="c1"># or using the uvicorn CLI</span>
uvicorn<span class="w"> </span>app.main:app<span class="w"> </span>--port<span class="w"> </span><span class="m">44777</span><span class="w"> </span>--lifespan<span class="w"> </span>on<span class="w"> </span>--reload
</code></pre></div>
<p>And navigate to the local page, opening a browser at <a href="http://localhost:44777"><code>http://localhost:44777</code></a>
(use the same port of the previous command).</p>
<p>The browser should display this page:</p>
<p><img alt="MVC Project home" src="/blacksheep/img/mvc-template-home.png" /></p>
<p>Several things are happening because the web application is configured:</p>
<ul>
<li>to build and serve dynamic HTML pages</li>
<li>to serve static files (e.g. pictures, JavaScript, CSS files)</li>
<li>to expose an API and offer OpenAPI Documentation about the API</li>
<li>to handle application settings and application start/stop events</li>
</ul>
<p>Let's see these elements in order, but first let's get acquainted with the
project's structure.</p>
<h2 id="project-structure">Project structure<a class="headerlink" href="#project-structure" title="Permanent link">&para;</a></h2>
<p>The project is organized with the following folder structure:</p>
<div class="highlight"><pre><span></span><code>├── app
│   ├── (application files)
│   │
│   ├── controllers
│   │   └── (controller files, defining routes)
│   │
│   ├── docs
│   │   └── (files for OpenAPI Documentation)
│   │
│   ├── static
│   │   └── (static files served by the web app)
│   │
│   └── views
│       └── (HTML templates, views compiled by the web app)
│
├── domain
│   └── (domain classes, POCO)
│
├── (root folder, where the main file starting the whole app resides)
├── dev.py  (file that can be used to start a development server, useful for debugging)
└── settings.dev.yaml (settings used when the env variable APP_ENV == dev)
└── settings.yaml (base settings file)
</code></pre></div>
<ul>
<li>the <code>app</code> folder contains files that are specific to the web application,
  settings, a folder for <code>controllers</code> that define routes, folders for <code>static</code>
  files and one for <code>views</code> (HTML templates)</li>
<li>other packages at the root of the project, like <code>domain</code>, should be
  abstracted from the web server and should be reusable in other kinds of
  applications (for example, a CLI)</li>
<li>the root folder contains the <code>dev.py</code> file to start the application in
  development mode, and settings files with <code>.yaml</code> extension that are read
  when the application starts (since the YAML format was selected when using
  the <code>blacksheep create</code> command)</li>
</ul>
<p>The project uses <code>onion architecture</code>. For example, a valid scenario would be
to add an additional package for the data access layer, and implement the
business logic in modules inside the <code>domain</code> folder.</p>
<h2 id="open-the-project-with-a-text-editor">Open the project with a text editor<a class="headerlink" href="#open-the-project-with-a-text-editor" title="Permanent link">&para;</a></h2>
<p>Open the project's folder using your favorite text editor.</p>
<p><img alt="Visual Studio Code" src="/blacksheep/img/vs-code-mvc.png" /></p>
<h2 id="routes-defined-using-classes-controllers">Routes defined using classes (controllers)<a class="headerlink" href="#routes-defined-using-classes-controllers" title="Permanent link">&para;</a></h2>
<p>The previous tutorial described how routes can be defined using functions:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">home</span><span class="p">():</span>
    <span class="o">...</span>
</code></pre></div>
<p><code>blacksheep</code> offers an alternative way to define request handlers: using class
methods. Both approaches have pros and cons, which will be described later in
more detail. To see this in practice, create a new file
<code>app/controllers/greetings.py</code> and copy the following code into it:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">blacksheep.server.controllers</span> <span class="kn">import</span> <span class="n">Controller</span><span class="p">,</span> <span class="n">get</span>


<span class="k">class</span> <span class="nc">Greetings</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>

    <span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/hello-world&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;Hello, World!&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Stop and restart the application, then navigate to
<a href="http://localhost:44777/hello-world"><code>http://localhost:44777/hello-world</code></a>: it
will display the response from the <code>Greetings.index</code> method.</p>
<p>When the path of a web request matches a route defined in a controller type, a
new instance of that <code>Controller</code> is created. In other words, every instance of
controller is scoped to a specific web request. Just like function handlers,
controllers support the automatic injection of parameters into request
handlers, and also dependency injection into their constructors (<code>__init__</code>
methods). This is a feature that improves development speed and enables cleaner
code (compare this approach with a scenario where all dependencies need to be
imported and referenced inside function bodies by hand).</p>
<p>The <code>Controller</code> class implements methods to return values and offers
<code>on_request</code> and <code>on_response</code> extensibility points.</p>
<div class="admonition tip">
<p class="admonition-title">Controllers and routes automatic import</p>
<p>Python modules defined inside <code>controllers</code> and <code>routes</code> packages are
automatically imported by a BlackSheep application. The automatic import
happens relative to the namespace where the application is instantiated.</p>
</div>
<h2 id="server-side-templating-views-and-models">Server side templating (views and models)<a class="headerlink" href="#server-side-templating-views-and-models" title="Permanent link">&para;</a></h2>
<p>Server side templating refers to the ability of a web application to generate
HTML pages from templates and dynamic variables. By default, BlackSheep does
this using the <a href="https://palletsprojects.com/p/jinja/"><code>Jinja2</code> library</a>
by the <a href="https://palletsprojects.com">Pallets</a> team.</p>
<p>To see how this works in practice when using <code>Controllers</code>, edit the <code>Greetings</code>
controller created previously to look like this:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">blacksheep.server.controllers</span> <span class="kn">import</span> <span class="n">Controller</span><span class="p">,</span> <span class="n">get</span>


<span class="k">class</span> <span class="nc">Greetings</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>

    <span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/hello-view&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="p">()</span>
</code></pre></div>
<p>Then, create a new folder inside <code>views</code> directory, called "greetings", and
add an HTML file named "hello.jinja".</p>
<p><img alt="New view" src="/blacksheep/img/new-view.png" /></p>
<p>Copy the following contents into <code>hello.jinja</code>:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello, There<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>Now navigate to <a href="http://localhost:44777/hello-view">http://localhost:44777/hello-view</a>,
to see the response from the new HTML view.</p>
<p>Note how convention over configuration is used in this case, to determine that
<code>./views/greetings/hello.jinja</code> file must be used, because of the convention:<br />
<code>./views/{CONTROLLER_NAME}/{METHOD_NAME}.jinja</code>.</p>
<p>The view currently is an HTML fragment, not a full document. To make it a
full page, modify <code>hello.jinja</code> to use the application layout:</p>
<div class="highlight"><pre><span></span><code>{%- extends &quot;layout.jinja&quot; -%}
{%- block title -%}
  Hello Page!
{%- endblock -%}
{%- block description -%}
  Project template to create web applications with MVC architecture using BlackSheep web framework.
{%- endblock -%}
{%- block css -%}
  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/styles/public.css&quot;</span> <span class="p">/&gt;</span>
{%- endblock -%}
{%- block body -%}
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;margin: 10em 2em;&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello, There!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
{%- endblock -%}
{%- block js -%}

{%- endblock -%}
</code></pre></div>
<p>Refresh the page at <a href="http://localhost:44777/hello-view">http://localhost:44777/hello-view</a> to see the result.</p>
<p>In this case, a page layout is applied using: <code>{%- extends "layout.jinja" -%}</code>,
with several blocks going in various areas of <code>layout.jinja</code>. For more
information on layouts and features of the templating library, refer to the
<a href="https://jinja2docs.readthedocs.io/en/stable/">Jinja2 documentation</a>.</p>
<hr />
<p>So far the tutorials only showed the <em>Controller</em> and the <em>View</em> part of the <em>MVC</em> architecture. A <em>Model</em> is a context for an HTML view.
To include dynamic content into an HTML template, use mustaches <em><code>{{name}}</code></em>
placeholders and pass a model having properties whose names match their key
to the <code>view</code> function.</p>
<p>For example, modify <code>hello.jinja</code> to use dynamic content from a model:</p>
<div class="highlight"><pre><span></span><code>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;margin: 10em 2em;&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello, {{name}}!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
      {% for sentence in sentences %}
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ sentence.url }}&quot;</span><span class="p">&gt;</span>{{ sentence.text }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      {% endfor %}
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>and <code>greetings.py</code> to contain the following code:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="kn">from</span> <span class="nn">blacksheep.server.controllers</span> <span class="kn">import</span> <span class="n">Controller</span><span class="p">,</span> <span class="n">get</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Sentence</span><span class="p">:</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">HelloModel</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">sentences</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Sentence</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Greetings</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>

    <span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/hello-view&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="n">HelloModel</span><span class="p">(</span>
                <span class="s2">&quot;World!&quot;</span><span class="p">,</span>
                <span class="n">sentences</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">Sentence</span><span class="p">(</span>
                        <span class="s2">&quot;Check this out!&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;https://github.com/RobertoPrevato/BlackSheep&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">],</span>
            <span class="p">)</span>
        <span class="p">)</span>
</code></pre></div>
<p>Produces this result:
<img alt="Hello Model" src="/blacksheep/img/hello-model.png" /></p>
<p>Models can be defined as <a href="https://docs.python.org/3.9/library/stdtypes.html#dict">dictionaries</a>,
<a href="https://docs.python.org/3/library/dataclasses.html">dataclasses</a>,
<a href="https://pydantic-docs.helpmanual.io">pydantic models</a>, or regular classes
implementing a constructor.</p>
<h2 id="handling-parameters-in-controllers">Handling parameters in controllers<a class="headerlink" href="#handling-parameters-in-controllers" title="Permanent link">&para;</a></h2>
<p>The previous tutorial showed how request handlers support the automatic
injection of parameters read from the HTTP request. Controllers support the
same, therefore it is possible to have parameters read automatically and
injected into controller methods:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>

    <span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/example/</span><span class="si">{value}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">route_example</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> in route&quot;</span><span class="p">)</span>

    <span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/example&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">query_example</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> in query string&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Controllers also support dependency injection for their constructor
(<code>__init__</code> method), this will be explained in the next page.</p>
<h2 id="serving-static-files">Serving static files<a class="headerlink" href="#serving-static-files" title="Permanent link">&para;</a></h2>
<p>This tutorial previously showed how the homepage of the MVC project template looks
like, at the root of the website:</p>
<p><img alt="MVC Project home" src="/blacksheep/img/mvc-template-home.png" /></p>
<p>The project template includes a folder for <code>static</code> files, including pictures,
CSS, and JavaScript files. Static files are served using a catch-all route, reading
files whose path, relative to the static folder, matches the URL path of the request.</p>
<p>For example, if the <code>static</code> folder contains the file <code>scripts/example.js</code>,
web requests at <code>http://localhost:44777/scripts/example.js</code> will be resolved
with this file and related information. When handling static files, BlackSheep
automatically takes care of several details:</p>
<ul>
<li>it handles the ETag response header, If-None-Match request header and HTTP 304 Not
  Modified responses if files don't change on the file system</li>
<li>it handles HTTP GET requests returning file information</li>
<li>it handles Range requests, to support pause and restore downloads out of the box
  and enable optimal support for videos (videos can be downloaded from a certain
  point in time)</li>
</ul>
<p>Try to add a file to the static folder, and download it writing the path in your
browser.</p>
<p>Relative paths are supported, but only files inside the root static folder are
served, it is not possible to download files outside of the static folder (it would be
a security issue if it worked otherwise!).
Additionally, BlackSheep only handles certain file extensions:  by default
only the most common file extensions used in web applications.
Paths starting with "/" are always considered absolute paths starting from the
root of the website.</p>
<h2 id="strategy-for-application-settings">Strategy for application settings<a class="headerlink" href="#strategy-for-application-settings" title="Permanent link">&para;</a></h2>
<p>The <code>API</code> and the <code>MVC</code> project templates include a strategy to read and
validate application settings, from various sources, and support multiple
system environments (like <code>dev</code>, <code>test</code>, and <code>prod</code> environments).</p>
<ul>
<li><a href="https://docs.pydantic.dev/latest/"><code>Pydantic</code></a> is always used to describe and validate application settings.</li>
<li>Application settings can be read from various sources using either
  <code>Pydantic v1 BaseSettings</code> class, or <code>essentials-configuration</code>.</li>
<li>When using <code>essentials-configuration</code>, use the <code>APP_ENV</code> environment variable
  to control the application environment and to use environment-specific
  settings from dedicated files using the pattern:
  <code>settings.{{env_name}}.{{format}}</code>, like <code>settings.test.yaml</code>,
  <code>settings.prod.toml</code>.</li>
</ul>
<p>For more information on application settings and the recommended way to apply
configuration depending on the application environment, refer to <a href="/blacksheep/settings/"><em>Settings</em></a>.</p>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>This tutorial covered some higher-level topics of a BlackSheep application. The
general concepts presented here apply to many kinds of web frameworks:</p>
<ul>
<li>server side templating of HTML views</li>
<li>serving of static files</li>
<li>use of MVC architecture</li>
</ul>
<p>The next pages describe the built-in support for
<a href="/blacksheep/dependency-injection">dependency injection</a>, and automatic generation of
<a href="/blacksheep/openapi">OpenAPI Documentation</a>.</p>
<div class="admonition info">
<p class="admonition-title">For more information...</p>
<p>For more information about Server Side Rendering, read <a href="/blacksheep/templating/"><em>Templating</em></a>.<br>
For more information about the BlackSheep CLI, read <a href="/blacksheep/cli/"><em>More about the CLI</em></a>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Don't miss the api project template</p>
<p>Try also the <code>api</code> project template, to start new Web API projects that
don't handle HTML views.</p>
</div>
<div class="nt-contribs"><p class="nt-mod-time">Last modified on: 2023-12-18 17:52:09</p><div class="nt-contributors"><div class="nt-contributor image nt-group-0" title="Roberto Prevato &lt;roberto.prevato@gmail.com&gt; (4)" style="background-image: url('https://avatars.githubusercontent.com/u/2576032?s=400&amp;u=d8d880e8ed05bb170877dd3d561d8301c4beeeed&amp;v=4')"><span class="nt-initials" /></div><div class="nt-contributor nt-group-1" title="Elliot Waite &lt;elliot@elliotwaite.com&gt; (1)"><span class="nt-initials">EW</span></div><div class="nt-contributor nt-group-2" title="techntools &lt;71767293+techntools@users.noreply.github.com&gt; (1)"><span class="nt-initials">T</span></div></div></div>





<!-- Giscus snippet -->
<script src="https://giscus.app/client.js"
    data-repo="Neoteroi/BlackSheep-Docs"
    data-repo-id="MDEwOlJlcG9zaXRvcnkzNzYyOTM4ODI="
    data-category="Q&A"
    data-category-id="DIC_kwDOFm3J-s4CSpF8"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="dark_tritanopia"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async>
</script>

<!-- Synchronize Giscus theme with palette -->
<script>
  var giscus = document.querySelector("script[src*=giscus]")

  /* Set palette on initial load */
  var palette = __md_get("__palette")
  if (palette && typeof palette.color === "object") {
    var theme = palette.color.scheme === "slate" ? "dark" : "light"
    giscus.setAttribute("data-theme", theme)
  }

  /* Register event handlers after documented loaded */
  document.addEventListener("DOMContentLoaded", function() {
    var ref = document.querySelector("[data-md-component=palette]")
    ref.addEventListener("change", function() {
      var palette = __md_get("__palette")
      if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light"

        /* Instruct Giscus to change theme */
        var frame = document.querySelector(".giscus-frame")
        frame.contentWindow.postMessage(
          { giscus: { setConfig: { theme } } },
          "https://giscus.app"
        )
      }
    })
  })
</script>

                

              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="/blacksheep/getting-started/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Getting started: basics" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Getting started: basics
              </div>
            </div>
          </a>
        
        
          
          <a href="/blacksheep/dependency-injection/" class="md-footer__link md-footer__link--next" aria-label="Next: Dependency injection" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Dependency injection
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.footer", "content.code.copy", "content.action.view"], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": 2}</script>
    
    
      <script src="/blacksheep/assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>